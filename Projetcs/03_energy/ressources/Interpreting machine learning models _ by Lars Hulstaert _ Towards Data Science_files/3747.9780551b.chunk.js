(self.webpackChunklite=self.webpackChunklite||[]).push([[3747],{85282:(e,n,i)=>{"use strict";i.d(n,{Z:()=>l});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var o=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const l=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),o)}},78319:(e,n,i)=>{"use strict";i.d(n,{Z:()=>l});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var o=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const l=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),o)}},41190:(e,n,i)=>{"use strict";i.d(n,{C:()=>v,F:()=>k});var t=i(319),a=i.n(t),o=i(22412),l=i(62549),r=i(82864),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(a()(l.t.definitions),a()(r.W.definitions))},s=i(93403),m=i(15855),u=i(51277),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(s.z.definitions),a()(m.E.definitions),a()(u.v.definitions))},p=i(56785),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(o.p.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(d.definitions),a()(c.definitions),a()(p.V.definitions))}},87079:(e,n,i)=>{"use strict";i.d(n,{O:()=>ee});var t=i(67294),a=i(46510),o=i(73776),l=i(91743),r=i(1444),d=i(75399),s=i(77355),m=i(30020),u=i(66411),c=function(e){var n=e.post,i=e.source;return t.createElement(t.Fragment,null,t.createElement(d.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"4px"}),t.createElement(s.x,{margin:"0 16px 0 28px",display:"flex",alignItems:"center"},t.createElement(u.cW,{source:{name:i}},t.createElement(r.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))),t.createElement(m._,{tooltipText:"More",targetDistance:10},t.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"})))},p=function(e){var n=e.post,i=e.source;return t.createElement(s.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},t.createElement(s.x,{marginRight:"16px"},t.createElement(u.cW,{source:{name:i}},t.createElement(r.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),t.createElement(d.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"12px"}),t.createElement(s.x,{marginLeft:"12px"},t.createElement(m._,{tooltipText:"More",targetDistance:10},t.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"}))))},k=i(35989),v=i(63459),V=i(18704),f=i(34796),g=i(64718),S=i(63038),N=i.n(S),h=i(68356),y=i.n(h),E=i(10374),b=i(25735),F=i(6443),w=i(96370),x=i(47230),_=i(87691),A=i(18627),T=i(14646),P=i(50742),C=i(85282),I=i(17417),R=i(77280),D=i(78319),B=i(68894),M=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},L=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},O=function(e){var n=e.onClick,i=(0,T.I)();return t.createElement(x.z,{onClick:n,className:i(M)},t.createElement(D.Z,{className:i(L)}),t.createElement(_.F,{scale:"M",color:"ACCENT"},"Listen"))},U=function(e){var n=e.onClick,i=(0,R.PM)(),a=(0,u.P7)(i||"").susiEntry,o=(0,B.O)("post_audio_button"===a),l=N()(o,3),r=l[0],d=l[2];return t.createElement(I.A,{isVisible:r,message:"You can now listen to stories",dismissText:"Got it",dismiss:d,targetDistance:10},t.createElement(O,{onClick:n}))},H=i(26350),z=i(43822),W=i(92661),Q=i(78870),j=function(e){var n=e.postId,i=(0,F.H)().value,a="post_audio_button",o=(0,Q.Rk)((0,W.qt)("ShowPay",{}),{susiEntry:a,postId:n});return i?t.createElement(z.a,{redirectUrl:o},t.createElement(O,null)):t.createElement(H.R,{operation:"register",susiEntry:a,actionUrl:o},t.createElement(O,null))},Z=y()({loader:function(){return i.e(6391).then(i.bind(i,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var n=e.children;return t.createElement(t.Fragment,null,n)},render:(0,P.n)("SpeechifyWidget")}),G=t.forwardRef((function(e,n){var i=e.postId,a=e.postBodyRef,o=e.isLockedPreviewOnly,l=(0,T.I)(),r=(0,A.Av)(),d=(0,F.H)().value,m=(0,b.VB)({name:"enable_members_only_audio",placeholder:!1}),u=!(null==d||!d.mediumMemberAt),c=(0,E.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,p=(0,t.useState)(!0),k=N()(p,2),v=k[0],V=k[1];t.useEffect((function(){return r.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),V(!0)}),[c]);var f=!u&&(o||m);return t.createElement(s.x,{display:"inline-flex",alignItems:"center",boxSizing:"border-box"},t.createElement(s.x,{flexGrow:"1"},t.createElement(w.P,{size:"full"},t.createElement(s.x,{ref:n,display:"flex"},f?m?t.createElement(j,{postId:i}):null:v?t.createElement(U,{onClick:function(){if(v){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",V(!1)}}}):t.createElement(Z,{postId:i,buttonStyle:M,audioIconStyle:L,postBodyRef:a},t.createElement(x.z,{className:l(M)},t.createElement(C.Z,{className:l(L)}),t.createElement(_.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),Y=i(73279),K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},$=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(Y.O,null))},q=function(e){var n,i,a,o,l=e.postId,r=e.postBodyRef,d=e.isLockedPreviewOnly,s=e.isPublished,m=(0,g.a)(K,{variables:{postId:l}}),u=m.data,c=m.error,p=m.loading;if(!l||p||c)return null;var k=null!==(n=null==u||null===(i=u.post)||void 0===i?void 0:i.wordCount)&&void 0!==n?n:0,v=null!==(a=null==u||null===(o=u.post)||void 0===o?void 0:o.detectedLanguage)&&void 0!==a?a:"";return!s||s&&"en"===v&&k>20?t.createElement(t.Fragment,null,t.createElement($,null),t.createElement(G,{postId:l,postBodyRef:r,isLockedPreviewOnly:d})):null},X=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(Y.O,null))},J=function(e){var n=e.showStar,i=e.post,a=e.postBodyRef,o=e.isLockedPreviewOnly,l=i.firstPublishedAt,r=i.readingTime,d=(0,b.VB)({name:"enable_speechify_widget",placeholder:!1});return t.createElement(t.Fragment,null,Boolean(l)&&t.createElement(t.Fragment,null,t.createElement(_.F,{scale:"M",playwrightClassName:"pw-published-date"},t.createElement(v.E,{timestamp:l})),t.createElement(X,null)),t.createElement(V.N,{scale:"M",tag:"div",readingTime:r}),n&&t.createElement(t.Fragment,null,t.createElement(X,null),t.createElement(k.U,{post:i})),!l&&t.createElement(t.Fragment,null,t.createElement(X,null),t.createElement(_.F,{color:"DARKER",scale:"M"},t.createElement(f.FV,{post:i}))),d&&t.createElement(t.Fragment,null,t.createElement(q,{postId:i.id,postBodyRef:a,isLockedPreviewOnly:o,isPublished:!!l})))},ee=function(e){var n=e.post,i=e.creator,l=e.postBodyRef,r=e.isLockedPreviewOnly,d=void 0!==r&&r,s=e.showInResponseToEntityPreview,m=void 0!==s&&s,u=e.showStar,k=void 0!==u&&u,v=e.viewerId,V=e.playwrightClassName;if(!i)return null;var f="post_actions_header";return t.createElement(a.c,{creator:i,viewerId:v,playwrightClassName:V,entityInfos:t.createElement(J,{post:n,showStar:k,postBodyRef:l,isLockedPreviewOnly:d}),desktopActionsButtons:t.createElement(c,{post:n,source:f}),mobileActionsButtons:t.createElement(p,{post:n,source:f}),responseToEntityPreview:m&&t.createElement(o.h,{padding:"24px 0 0",post:n,postPreviewMarginBottom:40})})}},69973:(e,n,i)=>{"use strict";i.d(n,{P:()=>d,Q:()=>s});var t=i(319),a=i.n(t),o=i(84683),l=i(81712),r=i(17828),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(o.d.definitions),a()(l.f.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat(a()(r.w.definitions))}},22412:(e,n,i)=>{"use strict";i.d(n,{p:()=>u});var t=i(319),a=i.n(t),o=i(68216),l=i(18821),r=i(54341),d=i(93961),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(l.H.definitions),a()(r.O.definitions),a()(o.$m.definitions),a()(d.u.definitions))},m=i(27048),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(o.$m.definitions),a()(s.definitions),a()(m.W.definitions))}},46510:(e,n,i)=>{"use strict";i.d(n,{c:()=>v});var t=i(67294),a=i(84739),o=i(55155),l=i(28695),r=i(77355),d=i(26244),s=i(93310),m=i(87691),u=i(65968),c=i(64238),p=function(e){var n=e.creator,i=e.viewerId,p=(0,a.B)(n),k=(0,c.o)(n);return t.createElement(m.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},t.createElement(r.x,{display:"flex",marginBottom:"4px",alignItems:"center"},t.createElement(d.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return t.createElement(l.K,{user:n})}},t.createElement(s.r,{href:p},t.createElement(r.x,{display:"flex",alignItems:"center"},n.name,k&&t.createElement(r.x,{marginLeft:"2px",marginTop:"1px"},t.createElement(u._,{size:"S"}))))),n.id!==i&&t.createElement(r.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"none",xl:"none"},paddingLeft:"12px"},t.createElement(o.D,{publisher:n,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},k=i(17193),v=function(e){var n=e.creator,i=e.playwrightClassName,o=e.entityInfos,l=e.viewerId,d=e.desktopActionsButtons,m=e.mobileActionsButtons,u=e.responseToEntityPreview,c=e.headerRef,v=e.marginBottom,V=void 0===v?{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"}:v,f=(0,a.B)(n);return t.createElement(r.x,{ref:c,marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:V,tag:"header",playwrightClassName:i},t.createElement(r.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},t.createElement(r.x,{display:"flex"},t.createElement(r.x,{marginRight:"16px"},t.createElement(s.r,{href:f},t.createElement(k.Yt,{scale:"M",user:n}))),t.createElement(r.x,null,t.createElement(p,{creator:n,viewerId:l}),t.createElement(r.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},o))),t.createElement(r.x,{display:"flex",alignItems:"center"},t.createElement(r.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},d))),m,u)}},93961:(e,n,i)=>{"use strict";i.d(n,{u:()=>l});var t=i(319),a=i.n(t),o=i(81712),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(o.f.definitions))}},9970:(e,n,i)=>{"use strict";i.d(n,{g:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherName_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},80336:(e,n,i)=>{"use strict";i.d(n,{r:()=>G});var t,a=i(50008),o=i.n(a),l=i(63038),r=i.n(l),d=i(67294),s=i(27517),m=i(28655),u=i.n(m),c=i(92471),p=i(23450),k=i.n(p),v=i(3150),V=i(6479),f=i.n(V),g=i(59713),S=i.n(g);!function(e){e.S="S",e.L="L"}(t||(t={}));var N=i(77355),h=i(87691),y=i(14646),E=i(97489),b=i(14804),F=function(e){var n=e.children,i=e.scale,a=void 0===i?t.L:i,o=e.verticalMargins,l=void 0===o?{normal:"24px",small:"24px"}:o,r=e.horizontalMargins,s=void 0===r?{normal:"-16px",small:"-12px 0"}:r,m=e.smallPadding,u=void 0===m?"12px":m,c=e.borderRadius,p=void 0===c?"4px":c,k=(0,y.I)();return d.createElement("div",{className:k((function(e){return S()({background:(0,b.Uy)(.05),borderRadius:p,margin:"".concat(l.small," ").concat(s.small),position:"relative"},E.xl(e),{margin:"".concat(l.normal," ").concat(s.normal)})}))},d.createElement(N.x,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:"16px",sm:{padding:u}},d.createElement(h.F,{scale:a,color:"DARKER"},n)))},w=function(e){var n=e.link,i=e.text,t=e.shouldWrap,a=void 0!==t&&t,o=f()(e,["link","text","shouldWrap"]);return d.createElement(F,o,i," ",d.createElement(N.x,{display:"inline",whiteSpace:a?void 0:"nowrap"},n))},x=i(28451),_=i(43822),A=i(18627),T=i(66411),P=i(90924),C=i(92661);function I(){var e=u()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return I=function(){return e},e}var R=function(e,n){return e<=0?n?d.createElement(d.Fragment,null,"This is your ",d.createElement("b",null,"last free member-only story")," this month."):d.createElement(d.Fragment,null,"This is your ",d.createElement("b",null,"last")," free member-only story this month."):n?d.createElement(d.Fragment,null,"You have"," ",d.createElement("b",null,e," free member-only ",k()("story",e)," left")," ","this month."):d.createElement(d.Fragment,null,"You have ",d.createElement("b",null,e)," free member-only ",k()("story",e)," left this month.")},D=function(e){var n=e.meterCount,i=e.meterLimit,t=e.post,a=(0,A.Av)(),o=(0,C.H2)(),l=(0,v.q)();d.useEffect((function(){a.event("meter.viewed",{uiType:x.j.LIHighlightCTA,postId:t.id,meterCount:n})}),[]);var r=l?d.createElement(d.Fragment,null,d.createElement(P.M,{tag:"span"},d.createElement(_.a,{linkStyle:"OBVIOUS",post:t,inline:!0,redirectUrl:o("ShowPay",{})},"Upgrade"))," ","for unlimited access."):d.createElement(P.M,{tag:"span"},d.createElement(_.a,{linkStyle:"OBVIOUS",post:t,inline:!0,redirectUrl:o("ShowPay",{})},"Upgrade for unlimited access."));return d.createElement(T.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:t.id}},d.createElement(w,{text:R(i-n,l),link:r,shouldWrap:l,verticalMargins:l?{normal:"0",small:"0"}:void 0,horizontalMargins:l?{normal:"0",small:"0"}:void 0,smallPadding:l?"16px":void 0,borderRadius:l?"8px":void 0}))},B=((0,c.Ps)(I(),_.H),i(26350)),M=i(43487),L=function(e){var n=e.post,i=e.meteringInfo,t=(0,A.Av)(),a=(0,v.q)(),o=i.postIds?i.postIds.length:0,l=null===i.unlocksRemaining?0:i.unlocksRemaining;d.useEffect((function(){t.event("meter.viewed",{uiType:x.j.LOHighlightCTA,postId:n.id,meterCount:o})}),[]);var r=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";case 2:default:return"smart_meter"}}(l),s=(0,M.v9)((function(e){return e.config.productName})),m=a?d.createElement(d.Fragment,null,d.createElement(B.R,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:r},"Sign up")," ","for ",s," and get an extra one."):d.createElement(B.R,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:r},"Sign up for ",s," and get an extra one");return d.createElement(T.cW,{source:{postId:n.id}},d.createElement(w,{text:R(l,a),link:m,shouldWrap:a,verticalMargins:a?{normal:"0",small:"0"}:{normal:"24px",small:"16px"},horizontalMargins:a?{normal:"0",small:"0"}:void 0,smallPadding:a?"16px":void 0,borderRadius:a?"8px":void 0}))},O=i(25735),U=i(6443),H=i(80872),z=i(54712),W=i(98067),Q=i(87498),j=function(e){var n=e.meteringInfo,i=e.post,t=e.viewer,a=n.maxUnlockCount||3,o=n.postIds.length;return o<=a?(0,H.sy)()&&function(e){return e&&e.createdAt+Q.pU>Date.now()}(t)?((0,H.Of)(),null):d.createElement(D,{meterCount:o,post:i,meterLimit:a}):null},Z=function(e){var n=e.post,i=e.meteringInfo,t=!!(0,O.VB)({name:"enable_dismissible_regwall",placeholder:!1});switch(i.unlocksRemaining){case 0:case 1:return t?null:d.createElement(L,{post:n,meteringInfo:i});case 2:return d.createElement(L,{post:n,meteringInfo:i});default:return null}},G=function(e){var n=e.meteringInfo,i=e.post,t=(0,s.I0)(),a=(0,y.I)(),l=(0,z.xg)(),m=d.useState(!1),u=r()(m,2),c=u[0],p=u[1];d.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":o()(document))&&p(!0),t((0,W.Dl)(!1))}),[]);var k=(0,U.H)(),v=k.loading,V=k.error,f=k.value;if(v||V)return d.createElement(d.Fragment,null);var g=f&&f.mediumMemberAt||void 0,S=i&&i.creator&&i.creator.id||void 0,N=f&&f.id||void 0,h=f?g||S===N:"LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,E=!c||!i.isLocked||!n.postIds.includes(i.id)||h,b=c&&!E,F={height:b?"100%":"0px",overflow:b?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},w=f?d.createElement(j,{meteringInfo:n,post:i,viewer:f}):d.createElement(Z,{post:i,meteringInfo:n});return d.createElement("div",{className:l?a(F):void 0},!E&&w)}},41422:(e,n,i)=>{"use strict";i.d(n,{L:()=>r});var t=i(319),a=i.n(t),o=i(95472),l=i(68216),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat(a()(o.Gi.definitions),a()(l.nf.definitions))}},75865:(e,n,i)=>{"use strict";i.d(n,{WZ:()=>d,kD:()=>s,Rf:()=>m});var t=i(319),a=i.n(t),o=i(13156),l=i(41422),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat(a()(o.B.definitions),a()(l.L.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(r.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(r.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}}]}}]}}].concat(a()(d.definitions),a()(s.definitions))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>a,b:()=>o});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(t)()(a.definitions))}},84304:(e,n,i)=>{"use strict";i.d(n,{X:()=>c,Z:()=>u});var t=i(319),a=i.n(t),o=i(31289),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(a()(o.G.definitions))},r=i(78620),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(a()(r.H.definitions))},s=i(20121),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(d.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(s.qt.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}}]}}].concat(a()(l.definitions),a()(m.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}}]}}]))}},53744:(e,n,i)=>{"use strict";i.d(n,{Zz:()=>h});var t=i(28655),a=i.n(t),o=i(63038),l=i.n(o),r=i(38460),d=i(92471),s=i(67294),m=i(5977),u=i(77355),c=i(9935),p=i(87691),k=i(68894),v=function(e){var n=e.children,i=e.onHide,t=(0,k.O)(!0),a=l()(t,3),o=a[0],r=a[2],d=s.useCallback((function(){r(),null==i||i()}),[i]);return o?s.createElement(u.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},s.createElement(p.F,{scale:"L",color:"DARKER"},n),s.createElement(c.P,{onClick:d,isPositionAbsolute:!1,size:"REGULAR"})):null},V=i(77280),f=i(43487),g=i(39202);function S(){var e=a()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function N(){var e=a()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return N=function(){return e},e}var h=function(e){var n,i,t,a,o,d=e.post,c=(0,f.v9)((function(e){return e.navigation.referrer})),p=(0,m.TH)().hash,S=(0,V.G1)(),N=(0,V.PM)(),h=(0,r.t)(y,{variables:{postId:null==d?void 0:d.id,postMeteringOptions:{referrer:c,sk:S,source:N}},ssr:!1}),E=l()(h,2),b=E[0],F=E[1],w=F.called,x=F.loading,_=F.error,A=F.data,T=null==p||null===(n=p.replace("#",""))||void 0===n?void 0:n.split("-"),P=l()(T,2),C=P[0],I=P[1],R=(null!=A?A:{}).post,D=null==R||null===(i=R.privateNotes)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===I})),B=null!==(t=null==R||null===(a=R.content)||void 0===a||null===(o=a.bodyModel)||void 0===o?void 0:o.paragraphs)&&void 0!==t?t:[],M=new Set(B.map((function(e){return e.name})).filter(g.b)),L=!!D&&M.has(C),O=(0,k.O)(!!I&&!L),U=l()(O,3),H=U[0],z=U[1],W=U[2];return s.useEffect((function(){I&&!L?z():W()}),[L]),!w&&I&&b(),x||_||!H?null:s.createElement(u.x,{marginTop:"64px"},s.createElement(v,{onHide:W},"The note you're looking for was deleted"))},y=((0,d.Ps)(N()),(0,d.Ps)(S()))},55155:(e,n,i)=>{"use strict";i.d(n,{D:()=>u,f:()=>c});var t=i(28655),a=i.n(t),o=i(92471),l=i(67294),r=i(82405),d=i(19308),s=i(32317);function m(){var e=a()(["\n  fragment PublisherFollowButton_publisher on Publisher {\n    __typename\n    ... on Collection {\n      ...CollectionFollowButton_collection\n    }\n    ... on User {\n      ...UserFollowButton_user\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}var u=function(e){var n=e.publisher,i=e.buttonSize,t=e.isLinkStyle,a=void 0!==t&&t,o=e.susiEntry,d=e.width;return"Collection"===n.__typename?l.createElement(r.F,{buttonSize:i,collection:n,susiEntry:o}):l.createElement(s.Bv,{buttonSize:i,user:n,isLinkStyle:a,susiEntry:o,width:d})},c=(0,o.Ps)(m(),d.I,s.sj)},31289:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},98482:(e,n,i)=>{"use strict";i.d(n,{k:()=>I});var t=i(63038),a=i.n(t),o=i(67294),l=i(6722),r=i(43242),d=i(80745),s=i(28655),m=i.n(s),u=i(87757),c=i.n(u),p=i(6479),k=i.n(p),v=i(48926),V=i.n(v),f=i(38460),g=i(92471),S=i(68356),N=i.n(S),h=i(35469);function y(){var e=m()(["\n  fragment ThreadedResponsesSidebarContent_post on Post {\n    id\n    postResponses {\n      count\n    }\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n    ...ThreadedReplies_post\n  }\n  ","\n"]);return y=function(){return e},e}var E=(0,g.Ps)(y(),h.e),b=i(76412),F=i(18733),w=i(66411),x=i(50742),_=i(97217),A=i(86742);function T(){var e=m()(["\n  fragment ThreadedResponsesSidebar_post on Post {\n    id\n    ...ThreadedResponsesSidebarContent_post\n  }\n  ","\n"]);return T=function(){return e},e}var P=N()({loading:function(){return null},loader:function(){return Promise.all([i.e(7084),i.e(3551),i.e(8121),i.e(8720),i.e(8913)]).then(i.bind(i,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,x.n)("ThreadedResponsesSidebarContent")}),C=function(e){var n,i,t,l,r,s,m,u,p,v=e.isResponsesSidebarVisible,g=e.inResponseToQuote,S=e.setInResponseToQuote,N=e.parentPost,h=e.continueThisThreadPost,y=e.continueThisThreadPostDepth,E=e.showPreviousSidebar,x=e.cleanupSidebar,T=e.initialSidebarRender,C=o.useState(_.sV.TOP),I=a()(C,2),R=I[0],D=I[1],B=o.useState(!1),M=a()(B,2),L=M[0],O=M[1],U=o.useRef(null),H=(0,f.t)(A.A,{variables:{postId:N.id,postResponsesPaging:{limit:d.p4},sortType:R},ssr:!1}),z=a()(H,2),W=z[0],Q=z[1],j=Q.called,Z=Q.loading,G=Q.data,Y=Q.fetchMore;j||h||!v||(W(),P.preload());var K=null==G||null===(n=G.post)||void 0===n?void 0:n.responsesLocked,$=null==G||null===(i=G.post)||void 0===i?void 0:i.isLockedResponse,q=(0,d.aj)(v,T,null==G||null===(t=G.post)||void 0===t?void 0:t.threadedPostResponses,h),X=q.responses,J=q.showCreateReplyEditor,ee=(null==G||null===(l=G.post)||void 0===l||null===(r=l.responseRootPost)||void 0===r||null===(s=r.post)||void 0===s?void 0:s.id)||"",ne=y||(null==G||null===(m=G.post)||void 0===m||null===(u=m.responseRootPost)||void 0===u?void 0:u.responseDepth)||0,ie=void 0,te=null==X||null===(p=X.pagingInfo)||void 0===p?void 0:p.next;return te&&!h&&(ie=function(){var e=V()(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=5;break}return te.__typename,n=k()(te,["__typename"]),e.next=4,Y({variables:{postId:N.id,postResponsesPaging:n}});case 4:O(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(F.N8,null,o.createElement(w.cW,{source:{name:"responses",postId:N.id},extendSource:!0},o.createElement(b.I,{sidebarRef:U,cleanupSidebar:x,isResponsesSidebarVisible:v,pagingInfoNext:te,isFetchingNextSetOfResponses:L,setIsFetching:O,fetchMoreWithArguments:ie,initialSidebarRender:T},(function(e){var n=e.responseDistribution,i=e.setResponseDistribution,t=e.closeSidebar;return j||h?o.createElement(P,{responses:X,parentPost:N,responsesLocked:K,isLockedResponse:$,isLoadingInitialContent:Z,isFetchingNextSetOfResponses:L,isResponsesSidebarVisible:v,closeSidebar:t,showPreviousSidebar:E,inResponseToQuote:g,setInResponseToQuote:S,sidebarRef:U,responseDistribution:n,setResponseDistribution:i,responseSortType:R,setResponseSortType:D,rootPostId:ee,postDepth:ne,isContinueThisThread:!!h,showCreateReplyEditor:J}):null}))))},I=((0,g.Ps)(T(),E),function(e){var n=e.children,i=e.post,t=(0,o.useState)(void 0),s=a()(t,2),m=s[0],u=s[1],c=(0,o.useCallback)((function(e){return function(n){u(n),e()}}),[]);return o.createElement(r.E,null,(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,s=e.isVisible,p=e.continueThisThreadPosts,k=e.openSidebar,v=e.cleanupSidebar;return o.createElement(l.Q.Provider,{value:{openSidebarToRespondToHighlight:c(k)}},!!i&&a&&o.createElement(C,{isResponsesSidebarVisible:s&&0===p.length,parentPost:i,inResponseToQuote:m,setInResponseToQuote:u,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current}),!!i&&a&&p.map((function(e,n,a){var l=(0,d.iI)(n);return o.createElement(C,{key:i.id,isResponsesSidebarVisible:s&&n===a.length-1,parentPost:i,inResponseToQuote:m,setInResponseToQuote:u,continueThisThreadPost:e,continueThisThreadPostDepth:l,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current})})),n)}))})},43242:(e,n,i)=>{"use strict";i.d(n,{E:()=>k});var t=i(319),a=i.n(t),o=i(63038),l=i.n(o),r=i(38125),d=i.n(r),s=i(67294),m=i(21232),u=i(31889),c=i(34135),p=i(77280),k=function(e){var n=e.children,i=s.useState(!1),t=l()(i,2),o=t[0],r=t[1],k=(0,u.F)(),v=!!(0,p.Wd)("responsesOpen"),V=s.useState(!1),f=l()(V,2),g=f[0],S=f[1],N=s.useRef(!0),h=s.useRef(0),y=s.useState(!1),E=l()(y,2),b=E[0],F=E[1],w=s.useCallback((function(){return S(!0)}),[]),x=s.useState([]),_=l()(x,2),A=_[0],T=_[1],P=s.useCallback((function(e){N.current=!1,T([].concat(a()(A),[e]))}),[A]),C=s.useCallback((function(){T(d()(A))}),[A]),I=s.useCallback((function(){S(!1),T([]),N.current=!0}),[]);s.useEffect((function(){F(!0),S(v)}),[v]);var R=function(){window.innerWidth<k.breakpoints.md&&r(!0)};return s.useEffect((function(){return R(),c.V6.on("resize",R),function(){return c.V6.off("resize",R)}}),[]),s.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return o&&null!=i&&i.style&&(g?(i.style.top="-".concat(h.current,"px"),h.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)),function(){o&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)}}),[g]),s.createElement(m.f.Provider,{value:{addContinueThisThreadSidebar:P,openSidebar:w,closeSidebar:I}},n({showPreviousSidebar:C,hasLoaded:b,initialSidebarRender:N,isVisible:g,continueThisThreadPosts:A,openSidebar:w,cleanupSidebar:I}))}},28451:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3747.9780551b.chunk.js.map